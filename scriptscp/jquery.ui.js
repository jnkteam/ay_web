(function(b){b.fn.bgiframe=(b.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(c){c=b.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},c);var d='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+c.src+'"style="display:block;position:absolute;z-index:-1;'+(c.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(c.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":a(c.top))+";left:"+(c.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":a(c.left))+";width:"+(c.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":a(c.width))+";height:"+(c.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":a(c.height))+';"/>';return this.each(function(){if(b(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(d),this.firstChild)}})}:function(){return this});b.fn.bgIframe=b.fn.bgiframe;function a(c){return c&&c.constructor===Number?c+"px":c}})(jQuery);(function(d,a){d.ui=d.ui||{};if(d.ui.version){return}d.extend(d.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({propAttr:d.fn.prop||d.fn.attr,_focus:d.fn.focus,focus:function(f,e){return typeof f==="number"?this.each(function(){var g=this;setTimeout(function(){d(g).focus();if(e){e.call(g)}},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;if((d.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){e=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(d.curCSS(this,"position",1))&&(/(auto|scroll)/).test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0)}else{e=this.parents().filter(function(){return(/(auto|scroll)/).test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!e.length?d(document):e},zIndex:function(h){if(h!==a){return this.css("zIndex",h)}if(this.length){var e=d(this[0]),f,g;while(e.length&&e[0]!==document){f=e.css("position");if(f==="absolute"||f==="relative"||f==="fixed"){g=parseInt(e.css("zIndex"),10);if(!isNaN(g)&&g!==0){return g}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.each(["Width","Height"],function(f,e){var h=e==="Width"?["Left","Right"]:["Top","Bottom"],i=e.toLowerCase(),j={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};function g(l,m,n,k){d.each(h,function(){m-=parseFloat(d.curCSS(l,"padding"+this,true))||0;if(n){m-=parseFloat(d.curCSS(l,"border"+this+"Width",true))||0}if(k){m-=parseFloat(d.curCSS(l,"margin"+this,true))||0}});return m}d.fn["inner"+e]=function(k){if(k===a){return j["inner"+e].call(this)}return this.each(function(){d(this).css(i,g(this,k)+"px")})};d.fn["outer"+e]=function(k,l){if(typeof k!=="number"){return j["outer"+e].call(this,k)}return this.each(function(){d(this).css(i,g(this,k,true,l)+"px")})}});function c(h,g){var i=h.nodeName.toLowerCase();if("area"===i){var j=h.parentNode,f=j.name,e;if(!h.href||!f||j.nodeName.toLowerCase()!=="map"){return false}e=d("img[usemap=#"+f+"]")[0];return !!e&&b(e)}return(/input|select|textarea|button|object/.test(i)?!h.disabled:"a"==i?h.href||g:g)&&b(h)}function b(e){return !d(e).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.extend(d.expr[":"],{data:function(g,e,f){return !!d.data(g,f[3])},focusable:function(e){return c(e,!isNaN(d.attr(e,"tabindex")))},tabbable:function(f){var e=d.attr(f,"tabindex"),g=isNaN(e);return(g||e>=0)&&c(f,!g)}});d(function(){var f=document.body,e=f.appendChild(e=document.createElement("div"));d.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=e.offsetHeight===100;d.support.selectstart="onselectstart" in e;f.removeChild(e).style.display="none"});d.extend(d.ui,{plugin:{add:function(g,i,f){var e=d.ui[g].prototype;for(var h in f){e.plugins[h]=e.plugins[h]||[];e.plugins[h].push([i,f[h]])}},call:function(i,e,f){var g=i.plugins[e];if(!g||!i.element[0].parentNode){return}for(var h=0;h<g.length;h++){if(i.options[g[h][0]]){g[h][1].apply(i.element,f)}}}},contains:function(e,f){return document.compareDocumentPosition?e.compareDocumentPosition(f)&16:e!==f&&e.contains(f)},hasScroll:function(g,e){if(d(g).css("overflow")==="hidden"){return false}var f=(e&&e==="left")?"scrollLeft":"scrollTop",h=false;if(g[f]>0){return true}g[f]=1;h=(g[f]>0);g[f]=0;return h},isOverAxis:function(e,g,f){return(e>g)&&(e<(g+f))},isOver:function(j,h,i,e,g,f){return d.ui.isOverAxis(j,i,g)&&d.ui.isOverAxis(h,e,f)}})})(jQuery);(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(g){for(var f=0,e;(e=g[f])!=null;f++){try{a(e).triggerHandler("remove")}catch(h){}}c(g)}}else{var d=a.fn.remove;a.fn.remove=function(f,e){return this.each(function(){if(!e){if(!f||a.filter(f,[this]).length){a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(g){}})}}return d.call(a(this),f,e)})}}a.widget=function(g,e,h){var f=g.split(".")[0],i;g=g.split(".")[1];i=f+"-"+g;if(!h){h=e;e=a.Widget}a.expr[":"][i]=function(k){return !!a.data(k,g)};a[f]=a[f]||{};a[f][g]=function(k,l){if(arguments.length){this._createWidget(k,l)}};var j=new e();j.options=a.extend(true,{},j.options);a[f][g].prototype=a.extend(true,j,{namespace:f,widgetName:g,widgetEventPrefix:a[f][g].prototype.widgetEventPrefix||g,widgetBaseClass:i},h);a.widget.bridge(g,a[f][g])};a.widget.bridge=function(e,f){a.fn[e]=function(g){var h=typeof g==="string",j=Array.prototype.slice.call(arguments,1),i=this;g=!h&&j.length?a.extend.apply(null,[true,g].concat(j)):g;if(h&&g.charAt(0)==="_"){return i}if(h){this.each(function(){var k=a.data(this,e),l=k&&a.isFunction(k[g])?k[g].apply(k,j):k;if(l!==k&&l!==b){i=l;return false}})}else{this.each(function(){var k=a.data(this,e);if(k){k.option(g||{})._init()}else{a.data(this,e,new f(g,this))}})}return i}};a.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,f){a.data(f,this.widgetName,this);this.element=a(f);this.options=a.extend(true,{},this.options,this._getCreateOptions(),g);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,e){var f=g;if(arguments.length===0){return a.extend({},this.options)}if(typeof g==="string"){if(e===b){return this.options[g]}f={};f[g]=e}this._setOptions(f);return this},_setOptions:function(e){var f=this;a.each(e,function(g,h){f._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(h,g,i){var j=this.options[h];g=a.Event(g);g.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase();i=i||{};if(g.originalEvent){for(var f=a.event.props.length,e;f;){e=a.event.props[--f];g[e]=g.originalEvent[e]}}this.element.trigger(g,i);return !(a.isFunction(j)&&j.call(this.element[0],g,i)===false||g.isDefaultPrevented())}}})(jQuery);(function(a,b){var c=false;a(document).mouseup(function(d){c=false});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===a.data(e.target,d.widgetName+".preventClickEvent")){a.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(g){if(c){return}(this._mouseStarted&&this._mouseUp(g));this._mouseDownEvent=g;var f=this,e=(g.which==1),d=(typeof this.options.cancel=="string"&&g.target.nodeName?a(g.target).closest(this.options.cancel).length:false);if(!e||d||!this._mouseCapture(g)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(g)!==false);if(!this._mouseStarted){g.preventDefault();return true}}if(true===a.data(g.target,this.widgetName+".preventClickEvent")){a.removeData(g.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return f._mouseMove(h)};this._mouseUpDelegate=function(h){return f._mouseUp(h)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();c=true;return true},_mouseMove:function(d){if(a.browser.msie&&!(document.documentMode>=9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target==this._mouseDownEvent.target){a.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(d){return this.mouseDelayMet},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return true}})})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(d){var c=this.options;if(this.helper||c.disabled||a(d.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(d);if(!this.handle){return false}if(c.iframeFix){a(c.iframeFix===true?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})}return true},_mouseStart:function(d){var c=this.options;this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;(c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt));if(c.containment){this._setContainment()}if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!c.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,d)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,d)}return true},_mouseDrag:function(e,c){this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",e,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(c){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,c)}if(this.dropped){d=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!d)||(this.options.revert=="valid"&&d)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d))){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(e._trigger("stop",c)!==false){e._clear()}})}else{if(this._trigger("stop",c)!==false){this._clear()}}return false},_mouseUp:function(c){if(this.options.iframeFix===true){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(c){var e=this.options,d=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[c])):(e.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!d.parents("body").length){d.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(d[0]!=this.element[0]&&!(/(fixed|absolute)/).test(d.css("position"))){d.css("position","absolute")}return d},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[f.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,f.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(f.containment=="document"?0:a(window).scrollLeft())+a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f.containment=="document"?0:a(window).scrollTop())+(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var g=a(f.containment),e=g[0];if(!e){return}var c=g.offset(),d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=g}else{if(f.containment.constructor==Array){this.containment=f.containment}}},_convertPositionTo:function(e,d){if(!d){d=this.position}var g=e=="absolute"?1:-1,f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(d.top+this.offset.relative.top*g+this.offset.parent.top*g-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*g)),left:(d.left+this.offset.relative.left*g+this.offset.parent.left*g-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*g))}},_generatePosition:function(d){var c=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=(/(html|body)/i).test(f[0].tagName),k=d.pageX,h=d.pageY;if(this.originalPosition){var j;if(this.containment){if(this.relative_container){var g=this.relative_container.offset();j=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+g.left,this.containment[3]+g.top]}else{j=this.containment}if(d.pageX-this.offset.click.left<j[0]){k=j[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<j[1]){h=j[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>j[2]){k=j[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>j[3]){h=j[3]+this.offset.click.top}}if(c.grid){var i=c.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;h=j?(!(i-this.offset.click.top<j[1]||i-this.offset.click.top>j[3])?i:(!(i-this.offset.click.top<j[1])?i-c.grid[1]:i+c.grid[1])):i;var l=c.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;k=j?(!(l-this.offset.click.left<j[0]||l-this.offset.click.left>j[2])?l:(!(l-this.offset.click.left<j[0])?l-c.grid[0]:l+c.grid[0])):l}}return{top:(h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(e?0:f.scrollTop())))),left:(k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,c,d){d=d||this._uiHash();a.ui.plugin.call(this,e,[c,d]);if(e=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,e,c,d)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"@VERSION"});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,d){var f=a(this).data("draggable"),g=f.options,e=a.extend({},d,{item:f.element});f.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){f.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",c,e)}})},stop:function(c,d){var f=a(this).data("draggable"),e=a.extend({},d,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;if(f.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",c,e)}})},drag:function(g,d){var e=a(this).data("draggable"),f=this,c=function(i){var l=this.offset.click.top,p=this.offset.click.left,o=this.positionAbs.top,m=this.positionAbs.left,n=i.height,h=i.width,j=i.top,k=i.left;return a.ui.isOver(o+l,m+p,j,k,n,h)};a.each(e.sortables,function(h){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return d.helper[0]};g.target=this.instance.currentItem[0];this.instance._mouseCapture(g,true);this.instance._mouseStart(g,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",g);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(g)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",g,this.instance._uiHash(this.instance));this.instance._mouseStop(g,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",g);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(f,d){var c=a("body"),e=a(this).data("draggable").options;if(c.css("cursor")){e._cursor=c.css("cursor")}c.css("cursor",e.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(f,d){var c=a(d.helper),e=a(this).data("draggable").options;if(c.css("opacity")){e._opacity=c.css("opacity")}c.css("opacity",e.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(c,d){var e=a(this).data("draggable");if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){e.overflowOffset=e.scrollParent.offset()}},drag:function(g,d){var e=a(this).data("draggable"),f=e.options,c=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x"){if((e.overflowOffset.top+e.scrollParent[0].offsetHeight)-g.pageY<f.scrollSensitivity){e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop+f.scrollSpeed}else{if(g.pageY-e.overflowOffset.top<f.scrollSensitivity){e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!="y"){if((e.overflowOffset.left+e.scrollParent[0].offsetWidth)-g.pageX<f.scrollSensitivity){e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(g.pageX-e.overflowOffset.left<f.scrollSensitivity){e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!="x"){if(g.pageY-a(document).scrollTop()<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!="y"){if(g.pageX-a(document).scrollLeft()<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(e,g)}}});a.ui.plugin.add("draggable","snap",{start:function(c,d){var e=a(this).data("draggable"),f=e.options;e.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this),g=h.offset();if(this!=e.element[0]){e.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(f,c){var l=a(this).data("draggable"),p=l.options,u=p.snapTolerance,j=c.offset.left,k=j+l.helperProportions.width,q=c.offset.top,o=q+l.helperProportions.height;for(var i=l.snapElements.length-1;i>=0;i--){var n=l.snapElements[i].left,g=n+l.snapElements[i].width,h=l.snapElements[i].top,r=h+l.snapElements[i].height;if(!((n-u<j&&j<g+u&&h-u<q&&q<r+u)||(n-u<j&&j<g+u&&h-u<o&&o<r+u)||(n-u<k&&k<g+u&&h-u<q&&q<r+u)||(n-u<k&&k<g+u&&h-u<o&&o<r+u))){if(l.snapElements[i].snapping){(l.options.snap.release&&l.options.snap.release.call(l.element,f,a.extend(l._uiHash(),{snapItem:l.snapElements[i].item})))}l.snapElements[i].snapping=false;continue}if(p.snapMode!="inner"){var s=Math.abs(h-o)<=u,m=Math.abs(r-q)<=u,t=Math.abs(n-k)<=u,e=Math.abs(g-j)<=u;if(s){c.position.top=l._convertPositionTo("relative",{top:h-l.helperProportions.height,left:0}).top-l.margins.top}if(m){c.position.top=l._convertPositionTo("relative",{top:r,left:0}).top-l.margins.top}if(t){c.position.left=l._convertPositionTo("relative",{top:0,left:n-l.helperProportions.width}).left-l.margins.left}if(e){c.position.left=l._convertPositionTo("relative",{top:0,left:g}).left-l.margins.left}}var d=(s||m||t||e);if(p.snapMode!="outer"){s=Math.abs(h-q)<=u,m=Math.abs(r-o)<=u,t=Math.abs(n-j)<=u,e=Math.abs(g-k)<=u;if(s){c.position.top=l._convertPositionTo("relative",{top:h,left:0}).top-l.margins.top}if(m){c.position.top=l._convertPositionTo("relative",{top:r-l.helperProportions.height,left:0}).top-l.margins.top}if(t){c.position.left=l._convertPositionTo("relative",{top:0,left:n}).left-l.margins.left}if(e){c.position.left=l._convertPositionTo("relative",{top:0,left:g-l.helperProportions.width}).left-l.margins.left}}if(!l.snapElements[i].snapping&&(s||m||t||e||d)){(l.options.snap.snap&&l.options.snap.snap.call(l.element,f,a.extend(l._uiHash(),{snapItem:l.snapElements[i].item})))}l.snapElements[i].snapping=(s||m||t||e||d)}}});a.ui.plugin.add("draggable","stack",{start:function(g,c){var f=a(this).data("draggable").options,e=a.makeArray(a(f.stack)).sort(function(h,i){return(parseInt(a(h).css("zIndex"),10)||0)-(parseInt(a(i).css("zIndex"),10)||0)});if(!e.length){return}var d=parseInt(e[0].style.zIndex)||0;a(e).each(function(h){this.style.zIndex=d+h});this[0].style.zIndex=d+e.length}});a.ui.plugin.add("draggable","zIndex",{start:function(f,d){var c=a(d.helper),e=a(this).data("draggable").options;if(c.css("zIndex")){e._zIndex=c.css("zIndex")}c.css("zIndex",e.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(g,a){g.ui=g.ui||{};var b=/left|center|right/,e=/top|center|bottom/,d="center",f=g.fn.position,c=g.fn.offset;g.fn.position=function(i){if(!i||!i.of){return f.apply(this,arguments)}i=g.extend({},i);var m=g(i.of),k=m[0],j=(i.collision||"flip").split(" "),l=i.offset?i.offset.split(" "):[0,0],o,h,n;if(k.nodeType===9){o=m.width();h=m.height();n={top:0,left:0}}else{if(k.setTimeout){o=m.width();h=m.height();n={top:m.scrollTop(),left:m.scrollLeft()}}else{if(k.preventDefault){i.at="left top";o=h=0;n={top:i.of.pageY,left:i.of.pageX}}else{o=m.outerWidth();h=m.outerHeight();n=m.offset()}}}g.each(["my","at"],function(){var p=(i[this]||"").split(" ");if(p.length===1){p=b.test(p[0])?p.concat([d]):e.test(p[0])?[d].concat(p):[d,d]}p[0]=b.test(p[0])?p[0]:d;p[1]=e.test(p[1])?p[1]:d;i[this]=p});if(j.length===1){j[1]=j[0]}l[0]=parseInt(l[0],10)||0;if(l.length===1){l[1]=l[0]}l[1]=parseInt(l[1],10)||0;if(i.at[0]==="right"){n.left+=o}else{if(i.at[0]===d){n.left+=o/2}}if(i.at[1]==="bottom"){n.top+=h}else{if(i.at[1]===d){n.top+=h/2}}n.left+=l[0];n.top+=l[1];return this.each(function(){var p=g(this),t=p.outerWidth(),q=p.outerHeight(),v=parseInt(g.curCSS(this,"marginLeft",true))||0,x=parseInt(g.curCSS(this,"marginTop",true))||0,s=t+v+(parseInt(g.curCSS(this,"marginRight",true))||0),r=q+x+(parseInt(g.curCSS(this,"marginBottom",true))||0),w=g.extend({},n),u;if(i.my[0]==="right"){w.left-=t}else{if(i.my[0]===d){w.left-=t/2}}if(i.my[1]==="bottom"){w.top-=q}else{if(i.my[1]===d){w.top-=q/2}}w.left=Math.round(w.left);w.top=Math.round(w.top);u={left:w.left-v,top:w.top-x};g.each(["left","top"],function(z,y){if(g.ui.position[j[z]]){g.ui.position[j[z]][y](w,{targetWidth:o,targetHeight:h,elemWidth:t,elemHeight:q,collisionPosition:u,collisionWidth:s,collisionHeight:r,offset:l,my:i.my,at:i.at})}});if(g.fn.bgiframe){p.bgiframe()}p.offset(g.extend(w,{using:i.using}))})};g.ui.position={fit:{left:function(j,h){var k=g(window),i=h.collisionPosition.left+h.collisionWidth-k.width()-k.scrollLeft();j.left=i>0?j.left-i:Math.max(j.left-h.collisionPosition.left,j.left)},top:function(j,h){var k=g(window),i=h.collisionPosition.top+h.collisionHeight-k.height()-k.scrollTop();j.top=i>0?j.top-i:Math.max(j.top-h.collisionPosition.top,j.top)}},flip:{left:function(i,m){if(m.at[0]===d){return}var k=g(window),h=m.collisionPosition.left+m.collisionWidth-k.width()-k.scrollLeft(),n=m.my[0]==="left"?-m.elemWidth:m.my[0]==="right"?m.elemWidth:0,l=m.at[0]==="left"?m.targetWidth:-m.targetWidth,j=-2*m.offset[0];i.left+=m.collisionPosition.left<0?n+l+j:h>0?n+l+j:0},top:function(i,m){if(m.at[1]===d){return}var k=g(window),h=m.collisionPosition.top+m.collisionHeight-k.height()-k.scrollTop(),n=m.my[1]==="top"?-m.elemHeight:m.my[1]==="bottom"?m.elemHeight:0,l=m.at[1]==="top"?m.targetHeight:-m.targetHeight,j=-2*m.offset[1];i.top+=m.collisionPosition.top<0?n+l+j:h>0?n+l+j:0}}};if(!g.offset.setOffset){g.offset.setOffset=function(l,j){if(/static/.test(g.curCSS(l,"position"))){l.style.position="relative"}var m=g(l),i=m.offset(),n=parseInt(g.curCSS(l,"top",true),10)||0,h=parseInt(g.curCSS(l,"left",true),10)||0,k={top:(j.top-i.top)+n,left:(j.left-i.left)+h};if("using" in j){j.using.call(l,k)}else{m.css(k)}};g.fn.offset=function(h){var i=this[0];if(!i||!i.ownerDocument){return null}if(h){return this.each(function(){g.offset.setOffset(this,h)})}return c.call(this)}}}(jQuery));(function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var h=this,j=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!(j.aspectRatio),aspectRatio:j.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:j.helper||j.ghost||j.animate?j.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&a.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=j.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var k=this.handles.split(",");this.handles={};for(var f=0;f<k.length;f++){var e=a.trim(k[f]),i="ui-resizable-"+e,g=a('<div class="ui-resizable-handle '+i+'"></div>');if(/sw|se|ne|nw/.test(e)){g.css({zIndex:++j.zIndex})}this.handles[e]=".ui-resizable-"+e;this.element.append(g)}}this._renderAxis=function(p){p=p||this.element;for(var n in this.handles){if(this.handles[n].constructor==String){this.handles[n]=a(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var m=a(this.handles[n],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(n)?m.outerHeight():m.outerWidth();var l=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");p.css(l,o);this._proportionallyResize()}if(!a(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){var l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=l&&l[1]?l[1]:"se"}});if(j.autoHide){this._handles.hide();a(this.element).addClass("ui-resizable-autohide").hover(function(){if(j.disabled){return}a(this).removeClass("ui-resizable-autohide");h._handles.show()},function(){if(j.disabled){return}if(!h.resizing){a(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(g){a(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(e){var f=false;for(var g in this.handles){if(a(this.handles[g])[0]==e.target){f=true}}return !this.options.disabled&&f},_mouseStart:function(h){var g=this.options,k=this.element.position(),i=this.element;this.resizing=true;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};if(i.is(".ui-draggable")||(/absolute/).test(i.css("position"))){i.css({position:"absolute",top:k.top,left:k.left})}if(a.browser.opera&&(/relative/).test(i.css("position"))){i.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var e=c(this.helper.css("left")),f=c(this.helper.css("top"));if(g.containment){e+=a(g.containment).scrollLeft()||0;f+=a(g.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:e,top:f};this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()};this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()};this.originalPosition={left:e,top:f};this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()};this.originalMousePosition={left:h.pageX,top:h.pageY};this.aspectRatio=(typeof g.aspectRatio=="number")?g.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var j=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",j=="auto"?this.axis+"-resize":j);i.addClass("ui-resizable-resizing");this._propagate("start",h);return true},_mouseDrag:function(k){var l=this.helper,o=this.options,i={},m=this,n=this.originalMousePosition,q=this.axis,g=(k.pageX-n.left)||0,f=(k.pageY-n.top)||0,h=this._change[q];if(!h){return false}var p=h.apply(this,[k,g,f]),e=a.browser.msie&&a.browser.version<7,j=this.sizeDiff;this._updateVirtualBoundaries(k.shiftKey);if(this._aspectRatio||k.shiftKey){p=this._updateRatio(p,k)}p=this._respectSize(p,k);this._propagate("resize",k);l.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(p);this._trigger("resize",k,this.ui());return false},_mouseStop:function(f){this.resizing=false;var n=this.options,l=this;if(this._helper){var j=this._proportionallyResizeElements,e=j.length&&(/textarea/i).test(j[0].nodeName),k=e&&a.ui.hasScroll(j[0],"left")?0:l.sizeDiff.height,h=e?0:l.sizeDiff.width,g={width:(l.helper.width()-h),height:(l.helper.height()-k)},m=(parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left))||null,i=(parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top))||null;if(!n.animate){this.element.css(a.extend(g,{top:i,left:m}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!n.animate){this._proportionallyResize()}}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",f);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(i){var j=this.options,h,k,e,g,f;f={minWidth:d(j.minWidth)?j.minWidth:0,maxWidth:d(j.maxWidth)?j.maxWidth:Infinity,minHeight:d(j.minHeight)?j.minHeight:0,maxHeight:d(j.maxHeight)?j.maxHeight:Infinity};if(this._aspectRatio||i){h=f.minHeight*this.aspectRatio;e=f.minWidth/this.aspectRatio;k=f.maxHeight*this.aspectRatio;g=f.maxWidth/this.aspectRatio;if(h>f.minWidth){f.minWidth=h}if(e>f.minHeight){f.minHeight=e}if(k<f.maxWidth){f.maxWidth=k}if(g<f.maxHeight){f.maxHeight=g}}this._vBoundaries=f},_updateCache:function(f){var e=this.options;this.offset=this.helper.offset();if(d(f.left)){this.position.left=f.left}if(d(f.top)){this.position.top=f.top}if(d(f.height)){this.size.height=f.height}if(d(f.width)){this.size.width=f.width}},_updateRatio:function(j,f){var i=this.options,h=this.position,g=this.size,e=this.axis;if(d(j.height)){j.width=(j.height*this.aspectRatio)}else{if(d(j.width)){j.height=(j.width/this.aspectRatio)}}if(e=="sw"){j.left=h.left+(g.width-j.width);j.top=null}if(e=="nw"){j.top=h.top+(g.height-j.height);j.left=h.left+(g.width-j.width)}return j},_respectSize:function(f,l){var n=this.helper,r=this._vBoundaries,e=this._aspectRatio||l.shiftKey,g=this.axis,s=d(f.width)&&r.maxWidth&&(r.maxWidth<f.width),j=d(f.height)&&r.maxHeight&&(r.maxHeight<f.height),h=d(f.width)&&r.minWidth&&(r.minWidth>f.width),p=d(f.height)&&r.minHeight&&(r.minHeight>f.height);if(h){f.width=r.minWidth}if(p){f.height=r.minHeight}if(s){f.width=r.maxWidth}if(j){f.height=r.maxHeight}var o=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,q=/sw|nw|w/.test(g),i=/nw|ne|n/.test(g);if(h&&q){f.left=o-r.minWidth}if(s&&q){f.left=o-r.maxWidth}if(p&&i){f.top=m-r.minHeight}if(j&&i){f.top=m-r.maxHeight}var k=!f.width&&!f.height;if(k&&!f.left&&f.top){f.top=null}else{if(k&&!f.top&&f.left){f.left=null}}return f},_proportionallyResize:function(){var h=this.options;if(!this._proportionallyResizeElements.length){return}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var j=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[j.css("borderTopWidth"),j.css("borderRightWidth"),j.css("borderBottomWidth"),j.css("borderLeftWidth")],i=[j.css("paddingTop"),j.css("paddingRight"),j.css("paddingBottom"),j.css("paddingLeft")];this.borderDif=a.map(e,function(m,n){var k=parseInt(m,10)||0,l=parseInt(i[n],10)||0;return k+l})}if(a.browser.msie&&!(!(a(g).is(":hidden")||a(g).parents(":hidden").length))){continue}j.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var f=this.element,g=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var h=a.browser.msie&&a.browser.version<7,e=(h?1:0),i=(h?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++g.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(e,g,f){return{width:this.originalSize.width+g}},w:function(j,f,e){var i=this.options,h=this.originalSize,g=this.originalPosition;return{left:g.left+f,width:h.width-f}},n:function(j,f,e){var i=this.options,h=this.originalSize,g=this.originalPosition;return{top:g.top+e,height:h.height-e}},s:function(e,g,f){return{height:this.originalSize.height+f}},se:function(g,f,e){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(e,f){a.ui.plugin.call(this,e,[f,this.ui()]);(e!="resize"&&this._trigger(e,f,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,{version:"@VERSION"});a.ui.plugin.add("resizable","alsoResize",{start:function(e,f){var g=a(this).data("resizable"),i=g.options,h=function(j){a(j).each(function(){var k=a(this);k.data("resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10),position:k.css("position")})})};if(typeof(i.alsoResize)=="object"&&!i.alsoResize.parentNode){if(i.alsoResize.length){i.alsoResize=i.alsoResize[0];h(i.alsoResize)}else{a.each(i.alsoResize,function(j){h(j)})}}else{h(i.alsoResize)}},resize:function(j,e){var f=a(this).data("resizable"),g=f.options,l=f.originalSize,k=f.originalPosition,i={height:(f.size.height-l.height)||0,width:(f.size.width-l.width)||0,top:(f.position.top-k.top)||0,left:(f.position.left-k.left)||0},h=function(m,n){a(m).each(function(){var r=a(this),q=a(this).data("resizable-alsoresize"),p={},o=n&&n.length?n:r.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(o,function(u,t){var s=(q[t]||0)+(i[t]||0);if(s&&s>=0){p[t]=s||null}});if(a.browser.opera&&/relative/.test(r.css("position"))){f._revertToRelativePosition=true;r.css({position:"absolute",top:"auto",left:"auto"})}r.css(p)})};if(typeof(g.alsoResize)=="object"&&!g.alsoResize.nodeType){a.each(g.alsoResize,function(n,m){h(n,m)})}else{h(g.alsoResize)}},stop:function(e,f){var g=a(this).data("resizable"),h=g.options,i=function(j){a(j).each(function(){var k=a(this);k.css({position:k.data("resizable-alsoresize").position})})};if(g._revertToRelativePosition){g._revertToRelativePosition=false;if(typeof(h.alsoResize)=="object"&&!h.alsoResize.nodeType){a.each(h.alsoResize,function(j){i(j)})}else{i(h.alsoResize)}}a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","animate",{stop:function(e,h){var k=a(this).data("resizable"),n=k.options,j=k._proportionallyResizeElements,o=j.length&&(/textarea/i).test(j[0].nodeName),g=o&&a.ui.hasScroll(j[0],"left")?0:k.sizeDiff.height,l=o?0:k.sizeDiff.width,f={width:(k.size.width-l),height:(k.size.height-g)},m=(parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left))||null,i=(parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top))||null;k.element.animate(a.extend(f,i&&m?{top:i,left:m}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var p={width:parseInt(k.element.css("width"),10),height:parseInt(k.element.css("height"),10),top:parseInt(k.element.css("top"),10),left:parseInt(k.element.css("left"),10)};if(j&&j.length){a(j[0]).css({width:p.width,height:p.height})}k._updateCache(p);k._propagate("resize",e)}})}});a.ui.plugin.add("resizable","containment",{start:function(k,o){var r=a(this).data("resizable"),e=r.options,l=r.element,p=e.containment,h=(p instanceof a)?p.get(0):(/parent/.test(p))?l.parent().get(0):p;if(!h){return}r.containerElement=a(h);if(/document/.test(p)||p==document){r.containerOffset={left:0,top:0};r.containerPosition={left:0,top:0};r.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var g=a(h),j=[];a(["Top","Right","Left","Bottom"]).each(function(s,t){j[s]=c(g.css("padding"+t))});r.containerOffset=g.offset();r.containerPosition=g.position();r.containerSize={height:(g.innerHeight()-j[3]),width:(g.innerWidth()-j[1])};var n=r.containerOffset,i=r.containerSize.height,q=r.containerSize.width,f=(a.ui.hasScroll(h,"left")?h.scrollWidth:q),m=(a.ui.hasScroll(h)?h.scrollHeight:i);r.parentData={element:h,left:n.left,top:n.top,width:f,height:m}}},resize:function(m,h){var s=a(this).data("resizable"),e=s.options,i=s.containerSize,p=s.containerOffset,q=s.size,n=s.position,g=s._aspectRatio||m.shiftKey,o={top:0,left:0},l=s.containerElement;if(l[0]!=document&&(/static/).test(l.css("position"))){o=p}if(n.left<(s._helper?p.left:0)){s.size.width=s.size.width+(s._helper?(s.position.left-p.left):(s.position.left-o.left));if(g){s.size.height=s.size.width/e.aspectRatio}s.position.left=e.helper?p.left:0}if(n.top<(s._helper?p.top:0)){s.size.height=s.size.height+(s._helper?(s.position.top-p.top):s.position.top);if(g){s.size.width=s.size.height*e.aspectRatio}s.position.top=s._helper?p.top:0}s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top;var k=Math.abs((s._helper?s.offset.left-o.left:(s.offset.left-o.left))+s.sizeDiff.width),r=Math.abs((s._helper?s.offset.top-o.top:(s.offset.top-p.top))+s.sizeDiff.height),f=s.containerElement.get(0)==s.element.parent().get(0),j=/relative|absolute/.test(s.containerElement.css("position"));if(f&&j){k-=s.parentData.left}if(k+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-k;if(g){s.size.height=s.size.width/s.aspectRatio}}if(r+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-r;if(g){s.size.width=s.size.height*s.aspectRatio}}},stop:function(j,h){var e=a(this).data("resizable"),f=e.options,k=e.position,m=e.containerOffset,g=e.containerPosition,i=e.containerElement,l=a(e.helper),p=l.offset(),n=l.outerWidth()-e.sizeDiff.width,o=l.outerHeight()-e.sizeDiff.height;if(e._helper&&!f.animate&&(/relative/).test(i.css("position"))){a(this).css({left:p.left-g.left-m.left,width:n,height:o})}if(e._helper&&!f.animate&&(/static/).test(i.css("position"))){a(this).css({left:p.left-g.left-m.left,width:n,height:o})}}});a.ui.plugin.add("resizable","ghost",{start:function(e,f){var h=a(this).data("resizable"),i=h.options,g=h.size;h.ghost=h.originalElement.clone();h.ghost.css({opacity:0.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");h.ghost.appendTo(h.helper)},resize:function(e,f){var g=a(this).data("resizable"),h=g.options;if(g.ghost){g.ghost.css({position:"relative",height:g.size.height,width:g.size.width})}},stop:function(e,f){var g=a(this).data("resizable"),h=g.options;if(g.ghost&&g.helper){g.helper.get(0).removeChild(g.ghost.get(0))}}});a.ui.plugin.add("resizable","grid",{resize:function(e,h){var m=a(this).data("resizable"),n=m.options,i=m.size,l=m.originalSize,g=m.originalPosition,o=m.axis,f=n._aspectRatio||e.shiftKey;n.grid=typeof n.grid=="number"?[n.grid,n.grid]:n.grid;var k=Math.round((i.width-l.width)/(n.grid[0]||1))*(n.grid[0]||1),j=Math.round((i.height-l.height)/(n.grid[1]||1))*(n.grid[1]||1);if(/^(se|s|e)$/.test(o)){m.size.width=l.width+k;m.size.height=l.height+j}else{if(/^(ne)$/.test(o)){m.size.width=l.width+k;m.size.height=l.height+j;m.position.top=g.top-j}else{if(/^(sw)$/.test(o)){m.size.width=l.width+k;m.size.height=l.height+j;m.position.left=g.left-k}else{m.size.width=l.width+k;m.size.height=l.height+j;m.position.top=g.top-j;m.position.left=g.left-k}}}}});var c=function(e){return parseInt(e,10)||0},d=function(e){return !isNaN(parseInt(e,10))}})(jQuery);(function(a,b){var e="ui-dialog ui-widget ui-widget-content ",f={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},d={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},c=a.attrFn||{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true,click:true};a.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var h=a(this).css(g).offset().top;if(h<0){a(this).css("top",g.top-h)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var o=this,j=o.options,h=j.title||"&#160;",l=a.ui.dialog.getTitleId(o.element),m=(o.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(e+j.dialogClass).css({zIndex:j.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(q){if(j.closeOnEscape&&!q.isDefaultPrevented()&&q.keyCode&&q.keyCode===a.ui.keyCode.ESCAPE){o.close(q);q.preventDefault()}}).attr({role:"dialog","aria-labelledby":l}).mousedown(function(q){o.moveToTop(false,q)}),p=o.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(m),n=(o.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-helper-clearfix").prependTo(m),g=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ").attr("role","button").hover(function(){g.addClass("ui-state-hover")},function(){g.removeClass("ui-state-hover")}).focus(function(){g.addClass("ui-state-focus")}).blur(function(){g.removeClass("ui-state-focus")}).click(function(q){o.destroy();return false}).appendTo(n),i=(o.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(j.closeText).appendTo(g),k=a("<span></span>").addClass("ui-dialog-title").attr("id",l).html(h).prependTo(n);if(a.isFunction(j.beforeclose)&&!a.isFunction(j.beforeClose)){j.beforeClose=j.beforeclose}n.find("*").add(n).disableSelection();if(j.draggable&&a.fn.draggable){o._makeDraggable()}if(j.resizable&&a.fn.resizable){o._makeResizable()}o._createButtons(j.buttons);o._isOpen=false;if(a.fn.bgiframe){m.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var g=this;if(g.overlay){g.overlay.destroy()}g.uiDialog.hide();g.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide();g.uiDialog.remove();if(g.originalTitle){g.element.attr("title",g.originalTitle)}return g},widget:function(){return this.uiDialog},close:function(h){var i=this,j,g;if(false===i._trigger("beforeClose",h)){return}if(i.overlay){i.overlay.destroy()}i.uiDialog.unbind("keypress.ui-dialog");i._isOpen=false;if(i.options.hide){i.uiDialog.hide(i.options.hide,function(){i._trigger("close",h)})}else{i.uiDialog.hide();i._trigger("close",h)}a.ui.dialog.overlay.resize();if(i.options.modal){j=0;a(".ui-dialog").each(function(){if(this!==i.uiDialog[0]){g=a(this).css("z-index");if(!isNaN(g)){j=Math.max(j,g)}}});a.ui.dialog.maxZ=j}return i},isOpen:function(){return this._isOpen},moveToTop:function(j,g){var k=this,i=k.options,h;if((i.modal&&!j)||(!i.stack&&!i.modal)){return k._trigger("focus",g)}if(i.zIndex>a.ui.dialog.maxZ){a.ui.dialog.maxZ=i.zIndex}if(k.overlay){a.ui.dialog.maxZ+=1;k.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)}h={scrollTop:k.element.scrollTop(),scrollLeft:k.element.scrollLeft()};a.ui.dialog.maxZ+=1;k.uiDialog.css("z-index",a.ui.dialog.maxZ);k.element.attr(h);k._trigger("focus",g);return k},open:function(){if(this._isOpen){return}var g=this,i=g.options,h=g.uiDialog;g.overlay=i.modal?new a.ui.dialog.overlay(g):null;g._size();g._position(i.position);h.show(i.show);g.moveToTop(true);if(i.modal){h.bind("keypress.ui-dialog",function(j){if(j.keyCode!==a.ui.keyCode.TAB){return}var m=a(":tabbable",this),l=m.filter(":first"),k=m.filter(":last");if(j.target===k[0]&&!j.shiftKey){l.focus(1);return false}else{if(j.target===l[0]&&j.shiftKey){k.focus(1);return false}}})}a(g.element.find(":tabbable").get().concat(h.find(".ui-dialog-buttonpane :tabbable").get().concat(h.get()))).eq(0).focus();g._isOpen=true;g._trigger("open");return g},_createButtons:function(i){var j=this,k=false,h=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(h);j.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof i==="object"&&i!==null){a.each(i,function(){return !(k=true)})}if(k){a.each(i,function(m,l){l=a.isFunction(l)?{click:l,text:m}:l;var n=a('<button type="button"></button>').click(function(){l.click.apply(j.element[0],arguments)}).appendTo(g);a.each(l,function(o,p){if(o==="click"){return}if(o in c){n[o](p)}else{n.attr(o,p)}});if(a.fn.button){n.button()}});h.appendTo(j.uiDialog)}},_makeDraggable:function(){var k=this,i=k.options,g=a(document),h;function j(l){return{position:l.position,offset:l.offset}}k.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(m,l){h=i.height==="auto"?"auto":a(this).height();a(this).height(a(this).height()).addClass("ui-dialog-dragging");k._trigger("dragStart",m,j(l))},drag:function(l,m){k._trigger("drag",l,j(m))},stop:function(l,m){i.position=[m.position.left-g.scrollLeft(),m.position.top-g.scrollTop()];a(this).removeClass("ui-dialog-dragging").height(h);k._trigger("dragStop",l,j(m));a.ui.dialog.overlay.resize()}})},_makeResizable:function(i){i=(i===b?this.options.resizable:i);var k=this,g=k.options,h=k.uiDialog.css("position"),l=(typeof i==="string"?i:"n,e,s,w,se,sw,ne,nw");function j(m){return{originalPosition:m.originalPosition,originalSize:m.originalSize,position:m.position,size:m.size}}k.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:k.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:k._minHeight(),handles:l,start:function(m,n){a(this).addClass("ui-dialog-resizing");k._trigger("resizeStart",m,j(n))},resize:function(m,n){k._trigger("resize",m,j(n))},stop:function(m,n){a(this).removeClass("ui-dialog-resizing");g.height=a(this).height();g.width=a(this).width();k._trigger("resizeStop",m,j(n));a.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon")},_minHeight:function(){var g=this.options;if(g.height==="auto"){return g.minHeight}else{return Math.min(g.minHeight,g.height)}},_position:function(h){var j=[],i=[0,0],g;if(h){if(typeof h==="string"||(typeof h==="object"&&"0" in h)){j=h.split?h.split(" "):[h[0],h[1]];if(j.length===1){j[1]=j[0]}a.each(["left","top"],function(k,l){if(+j[k]===j[k]){i[k]=j[k];j[k]=l}});h={my:j.join(" "),at:j.join(" "),offset:i.join(" ")}}h=a.extend({},a.ui.dialog.prototype.options.position,h)}else{h=a.ui.dialog.prototype.options.position}g=this.uiDialog.is(":visible");if(!g){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},h));if(!g){this.uiDialog.hide()}},_setOptions:function(i){var h=this,g={},j=false;a.each(i,function(l,k){h._setOption(l,k);if(l in f){j=true}if(l in d){g[l]=k}});if(j){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",g)}},_setOption:function(h,l){var k=this,g=k.uiDialog;switch(h){case"beforeclose":h="beforeClose";break;case"buttons":k._createButtons(l);break;case"closeText":k.uiDialogTitlebarCloseText.text(""+l);break;case"dialogClass":g.removeClass(k.options.dialogClass).addClass(e+l);break;case"disabled":if(l){g.addClass("ui-dialog-disabled")}else{g.removeClass("ui-dialog-disabled")}break;case"draggable":var j=g.is(":data(draggable)");if(j&&!l){g.draggable("destroy")}if(!j&&l){k._makeDraggable()}break;case"position":k._position(l);break;case"resizable":var i=g.is(":data(resizable)");if(i&&!l){g.resizable("destroy")}if(i&&typeof l==="string"){g.resizable("option","handles",l)}if(!i&&l!==false){k._makeResizable(l)}break;case"title":a(".ui-dialog-title",k.uiDialogTitlebar).html(""+(l||"&#160;"));break}a.Widget.prototype._setOption.apply(k,arguments)},_size:function(){var i=this.options,g,k,h=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(i.minWidth>i.width){i.width=i.minWidth}g=this.uiDialog.css({height:"auto",width:i.width}).height();k=Math.max(0,i.minHeight-g);if(i.height==="auto"){if(a.support.minHeight){this.element.css({minHeight:k,height:"auto"})}else{this.uiDialog.show();var j=this.element.css("height","auto").height();if(!h){this.uiDialog.hide()}this.element.height(Math.max(j,k))}}else{this.element.height(Math.max(i.height-g,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});a.extend(a.ui.dialog,{version:"@VERSION",uuid:0,maxZ:0,getTitleId:function(g){var h=g.attr("id");if(!h){this.uuid+=1;h=this.uuid}return"ui-dialog-title-"+h},overlay:function(g){this.$el=a.ui.dialog.overlay.create(g)}});a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(g){return g+".dialog-overlay"}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(a.ui.dialog.overlay.instances.length){a(document).bind(a.ui.dialog.overlay.events,function(i){if(a(i.target).zIndex()<a.ui.dialog.overlay.maxZ){return false}})}},1);a(document).bind("keydown.dialog-overlay",function(i){if(g.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===a.ui.keyCode.ESCAPE){g.close(i);i.preventDefault()}});a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize)}var h=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(a.fn.bgiframe){h.bgiframe()}this.instances.push(h);return h},destroy:function(g){var i=a.inArray(g,this.instances);if(i!=-1){this.oldInstances.push(this.instances.splice(i,1)[0])}if(this.instances.length===0){a([document,window]).unbind(".dialog-overlay")}g.remove();var h=0;a.each(this.instances,function(){h=Math.max(h,this.css("z-index"))});this.maxZ=h},height:function(){var g,h;if(a.browser.msie&&a.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);h=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<h){return a(window).height()+"px"}else{return g+"px"}}else{return a(document).height()+"px"}},width:function(){var g,h;if(a.browser.msie){g=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);h=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(g<h){return a(window).width()+"px"}else{return g+"px"}}else{return a(document).width()+"px"}},resize:function(){var g=a([]);a.each(a.ui.dialog.overlay.instances,function(){g=g.add(this)});g.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}});a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));